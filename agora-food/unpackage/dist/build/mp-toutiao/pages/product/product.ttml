<view class="container" id="productPage"><jump-ball vue-id="1" start="{{num}}" element="{{element}}" speed="{{animaTime}}" index="{{9999}}" data-event-opts="{{[['^updateStart',[['__set_sync',['$0','num','$event'],['']]]],['^updateElement',[['__set_sync',['$0','element','$event'],['']]]],['^msg',[['jbMsg']]]]}}" bind:updateStart="__e" bind:updateElement="__e" bind:msg="__e" bind:__l="__l"></jump-ball><hx-navbar vue-id="2" fixed="{{true}}" color="{{['#ffffff','#888888']}}" barPlaceholder="hidden" transparent="auto" back="{{false}}" rightSlot="{{false}}" background-color="{{[255,255,255]}}" pageScroll="{{pageScroll}}" data-event-opts="{{[['^updatePageScroll',[['__set_sync',['$0','pageScroll','$event'],['']]]],['^updatePageScroll',[['__set_sync',['$0','pageScroll','$event'],['']]]]]}}" bind:updatePageScroll="__e" bind:__l="__l" vue-slots="{{['default','left']}}"><view slot="left"><view data-event-opts="{{[['tap',[['backPage',['$event']]]]]}}" class="ring" style="{{'margin-left:6px;font-weight:bold;'+(showRing?'':'background-color:#ffffff')}}" bindtap="__e"><view class="hxicon-unfold _i"></view></view></view><view class="ctn"><view class="tabs-box" style="{{'background:none;width:auto;'+(!showRing?'':'display:none;')}}"><view style="width:210px;height:100%;"><view class="hx-tabs"><block tt:for="{{tabs}}" tt:for-item="item" tt:for-index="i" tt:key="i"><view data-event-opts="{{[['tap',[['swiperChange',[i,'$0'],[[['tabs','',i,'id']]]]]]]}}" class="{{(('hx-tabs-item')+' '+((swiperCurrent==i)?'hx-tabs-active':''))}}" bindtap="__e"><text>{{item.name}}</text></view></block><view class="hx-tabs-slider-box" style="{{'left:'+(swiperCurrentSliderLeft+'px')+';'}}"><view class="hx-tabs-slider"></view></view></view></view></view><view class="leftBox"><view class="ring" style="{{(showRing?'':'background-color:#ffffff')}}"><view class="hxicon-cart_fill_light _i"></view></view><view data-event-opts="{{[['tap',[['share',['$event']]]]]}}" class="ring" style="{{(showRing?'':'background-color:#ffffff')}}" bindtap="__e"><view class="hxicon-more _i"></view></view></view><view class="jrNull"></view></view></hx-navbar><view class="carousel"><swiper indicator-dots circular="true" duration="400"><block tt:for="{{goodsInfoData.banner_img}}" tt:for-item="item" tt:for-index="index" tt:key="index"><swiper-item data-event-opts="{{[['tap',[['previewImg',['$0','$1'],[[['goodsInfoData.banner_img','',index]],'goodsInfoData.banner_img']]]]]}}" class="swiper-item" bindtap="__e"><view class="image-wrapper"><image class="loaded" src="{{item}}" mode="aspectFill"></image></view></swiper-item></block></swiper></view><view class="container-box introduce-section"><text class="title">{{goodsInfoData.name}}</text><view class="tag-box"><block tt:for="{{goodsInfoData.goods_tag}}" tt:for-item="item" tt:for-index="i" tt:key="i"><block><text class="tag-item">{{item}}</text></block></block></view><view class="bot-row"><text>{{"月售"+(goodsInfoData.monthly_sales?goodsInfoData.monthly_sales:0)}}</text></view></view><view class="{{(('container-box shopping-cart')+' '+((showBorder)?'barBorder':''))}}"><view class="price-box"><text class="price-tip">¥</text><text class="price">{{goodsInfoData.price}}</text><block tt:if="{{goodsInfoData.oldprice!=0&&goodsInfoData.oldprice>goodsInfoData.price}}"><block><text class="m-price">{{"¥"+goodsInfoData.oldprice}}</text><text class="coupon-tip">{{$root.g0+"折"}}</text></block></block></view><block tt:if="{{goodsInfoData.form}}"><block><view data-event-opts="{{[['tap',[['showForm',['$0'],['goodsInfoData']]]]]}}" class="add-btn" bindtap="__e"><view class="hxicon-add _i" id="eleAdd"></view><text>选规格</text><block tt:if="{{$root.m0}}"><view class="num">{{''+$root.m1+''}}</view></block></view></block></block><block tt:else><block><block tt:if="{{!currentGoodsData.number}}"><block><view data-event-opts="{{[['tap',[['formFirstAddGoods']]]]}}" class="add-btn" bindtap="__e"><view class="hxicon-add _i" id="eleAdd"></view><text>加入购物车</text></view></block></block><block tt:else><block><view class="btn-box"><view class="addEle_gg jumpPosition" id="eleAdd"></view><hx-number-box vue-id="3" value="{{currentGoodsData.number}}" rowData="{{currentGoodsData}}" clickTime="{{animaTime+200}}" data-event-opts="{{[['^change',[['formAddGoodsChange']]],['^addChange',[['touchOnAddGoods',['#eleAdd','$0'],['currentGoodsData']]]]]}}" bind:change="__e" bind:addChange="__e" bind:__l="__l"></hx-number-box></view></block></block></block></block></view><view class="line-weight"></view><view data-event-opts="{{[['tap',[['share',['$event']]]]]}}" class="share-section" bindtap="__e"><view class="share-icon"><text class="hxicon-favor_fill_light"></text>返</view><text class="tit">该商品分享可领49减10红包</text><text class="hxicon-mark"></text><view class="share-btn">立即分享<text class="hxicon-right"></text></view></view><view class="container-box"><view class="tabs-box"><view style="width:210px;height:100%;"><view class="hx-tabs"><block tt:for="{{tabs}}" tt:for-item="item" tt:for-index="i" tt:key="i"><view data-event-opts="{{[['tap',[['swiperChange',[i,'$0'],[[['tabs','',i,'id']]]]]]]}}" class="{{(('hx-tabs-item')+' '+((swiperCurrent==i)?'hx-tabs-active':''))}}" bindtap="__e"><text>{{item.name}}</text></view></block><view class="hx-tabs-slider-box" style="{{'left:'+(swiperCurrentSliderLeft+'px')+';'}}"><view class="hx-tabs-slider"></view></view></view></view></view><view class="info-box" id="detail"><block tt:for="{{goodsInfoData.detail}}" tt:for-item="item" tt:for-index="i" tt:key="i"><view class="info-item"><text class="left">{{item.tit+"："}}</text><text class="right">{{item.txt}}</text></view></block></view></view><view class="line-weight"></view><view class="container-box eva-section" id="eva"><view class="e-header"><text class="tit">评价</text><block tt:if="{{goodsEvaData.praise/goodsEvaData.sum*100>0}}"><text class="hpd">{{"("+$root.g1+"%好评度)"}}</text></block><text class="tip">{{(goodsEvaData.sum?goodsEvaData.sum:0)+"条评论"}}</text><text class="hxicon-right"></text></view><block tt:if="{{goodsEvaData.eva_tag}}"><view class="eva-tag-box"><block tt:if="{{goodsEvaData.eva_tag.exist_pic>0}}"><view class="tag-item">有图<text class="num">{{goodsEvaData.eva_tag.exist_pic}}</text></view></block><block tt:if="{{goodsEvaData.eva_tag.appreciate>0}}"><view class="tag-item"><view class="hxicon-appreciate_fill_light _i"></view><text class="num">{{goodsEvaData.eva_tag.appreciate}}</text></view></block><block tt:if="{{goodsEvaData.eva_tag.oppose>0}}"><view class="tag-item tread-bg"><view class="hxicon-oppose_fill_light tread _i"></view><text class="num">{{goodsEvaData.eva_tag.oppose}}</text></view></block><block tt:for="{{goodsEvaData.eva_tag.other}}" tt:for-item="item" tt:for-index="i" tt:key="i"><view class="tag-item">{{item}}</view></block></view></block><block tt:for="{{goodsEvaData.eva_list}}" tt:for-item="item" tt:for-index="i" tt:key="i"><view class="eva-box"><image class="portrait" src="{{item.avatar}}" mode="aspectFill"></image><view class="right"><view class="bot"><text class="attr">{{item.name}}</text><text class="time">{{item.time}}</text></view><block tt:if="{{item.point==1}}"><view class="praise-box"><view class="hxicon-appreciate_fill_light _i"></view><text class="praise-txt">攒了该商品</text></view></block><block tt:else><block tt:if="{{item.point==2}}"><view class="praise-box"><view class="{{(('hxicon-oppose_fill_light  _i')+' '+((true)?'tread':''))}}"></view><text class="praise-txt">踩了该商品</text></view></block></block><text class="con">{{item.content}}</text><block tt:if="{{item.pic}}"><view class="imgs"><block tt:for="{{item.pic}}" tt:for-item="imgurl" tt:for-index="index" tt:key="index"><block><view class="imgs-box"><image style="width:100%;" src="{{imgurl}}" mode="widthFix" data-event-opts="{{[['tap',[['previewImg',['$0','$1'],[[['goodsEvaData.eva_list','',i],['pic','',index]],[['goodsEvaData.eva_list','',i,'pic']]]]]]]}}" bindtap="__e"></image></view></block></block></view></block></view></view></block><view class="eva-btn"><view class="avatar-box"><block tt:for="{{goodsEvaData.eva_list}}" tt:for-item="item" tt:for-index="i" tt:key="i"><view class="avatar-item"><image src="{{item.avatar}}" mode></image></view></block><view class="avatar-item"><view class="hxicon-more _i"></view></view></view><text>{{goodsEvaData.sum+"条评价"}}</text><view class="hxicon-right _i"></view></view></view><view class="line-weight"></view><view class="detail-desc" id="coll"><view class="d-header"><text>图文详情</text></view><rich-text nodes="{{goodsInfoData.desc}}"></rich-text></view><block tt:if="{{showFoot}}"><view data-event-opts="{{[['touchmove',[['mpClear',['$event']]]]]}}" class="foot" style="{{'height:'+(footHeight)+';'}}" catchtouchmove="__e"><view data-event-opts="{{[['tap',[['hideShoppingCar',['$event']]]]]}}" class="zz" bindtap="__e"></view><view class="btn-box"><view data-event-opts="{{[['tap',[['contact',['$event']]]]]}}" class="btn-box-left" bindtap="__e"><view class="imgBox"><image src="../../static/store/contact.png" mode></image></view><text>联系商家</text></view><view class="btn-box-line"></view><view data-event-opts="{{[['tap',[['showShoppingCar',['$event']]]]]}}" class="btn-box-center" bindtap="__e"><view class="cart" animation="{{cartAnimationData}}"><block tt:if="{{goodsTotalNumber>0}}"><view class="tag cartNum">{{goodsTotalNumber}}</view></block><image src="{{goodsTotalNumber?'/static/store/cart.png':'/static/store/cart2.png'}}" mode></image></view><view class="priceBox"><block tt:if="{{goodsTotalPrice>0}}"><view class="hx-txt-18 hx-color-white">{{'￥'+goodsTotalPrice+''}}</view></block><view class="hx-txt-10 hx-color-gray">{{'另需配送费￥'+shippingDees+''}}</view></view></view><view class="btn-box-right"><block tt:if="{{goodsTotalPrice>0&&goodsTotalPrice>=startingPrice}}"><view data-event-opts="{{[['tap',[['jiesuan',['$event']]]]]}}" class="jiesuan" bindtap="__e">去结算</view></block><block tt:else><view class="pscj hx-txt-10 hx-color-gray"><block tt:if="{{startingPrice>0}}"><text>{{"差￥"+-(goodsTotalPrice-startingPrice)+"起送"}}</text></block></view></block></view></view><view class="cart-box" style="{{'display:'+(showCar?'flex':'none')+';'}}"><block tt:if="{{showDiscount}}"><view class="box-container rebate-box"><text>已享100减25</text></view></block><view class="box-container operating-box"><view class="operating-box_right"></view><view data-event-opts="{{[['tap',[['clearShoppingCart',['$event']]]]]}}" class="operating-box_left clear" bindtap="__e"><view class="hxicon-delete _i"></view><text>清空购物车</text></view></view><view class=" goods-box"><view style="flex:1;"><scroll-view class="goods-list-scroll" scroll-y="true" scroll-top="{{carGoodsScrollTop}}"><view class="goods-list"><block tt:for="{{shoppCart}}" tt:for-item="rowData" tt:for-index="i" tt:key="i"><block tt:if="{{rowData.number>0}}"><view class="box"><view class="m-store-item"><view class="m-img"><image style="width:100%;height:100%;" src="{{rowData.img}}" mode="aspectFit"></image></view><view class="m-text"><view class="m-title">{{''+rowData.name+''}}</view><view class="m-descripe">{{''+(rowData.current_form?rowData.form.name+"："+rowData.current_form.name:rowData.descripe)+''}}</view><view class="m-price-box"><view class="symbol">￥</view><view class="m-price">{{rowData.price}}</view><block tt:if="{{rowData.oldprice}}"><view class="m-old-price"><text>{{"￥"+rowData.oldprice}}</text></view></block></view><view class="m-distance"><view class="{{(('jumpPosition')+' '+('addEle2_'+i))}}"></view><hx-number-box vue-id="{{'4-'+i}}" value="{{rowData.number}}" rowData="{{rowData}}" clickTime="{{400}}" data-event-opts="{{[['^change',[['addGoodsChange']]],['^addChange',[['touchOnAddGoods',['.addEle2_'+i,'$0'],[[['shoppCart','',i]]]]]]]}}" bind:change="__e" bind:addChange="__e" bind:__l="__l"></hx-number-box></view></view></view></view></block></block></view></scroll-view></view></view></view></view></block><view class="goods-form" animation="{{formAnimationData}}" data-event-opts="{{[['tap',[['hiddenForm']]],['touchmove',[['mpClear',['$event']]]]]}}" bindtap="__e" catchtouchmove="__e"><block tt:if="{{currentGoodsData.form}}"><view class="form-main"><view data-event-opts="{{[['tap',[['mpClear',['$event']]]]]}}" class="form-main_ctn" catchtap="__e"><view class="godos_tit"><text>{{currentGoodsData.name}}</text></view><view class="gg_tit"><text>{{currentGoodsData.form.name}}</text></view><view class="gg_box"><block tt:for="{{currentGoodsData.form_child}}" tt:for-item="form_child" tt:for-index="j" tt:key="j"><block tt:if="{{form_child.pid==currentGoodsData.form.id}}"><block><view data-event-opts="{{[['tap',[['selectGoodsForm',['$0','$1'],['currentGoodsData',[['currentGoodsData.form_child','',j]]]]]]]}}" class="{{(('item')+' '+((form_child.select)?'active':''))}}" bindtap="__e">{{form_child.name}}</view></block></block></block></view><view class="select_gg"><text class="lable">已选规格：</text><view class="select_gg_box"><block tt:for="{{currentGoodsData.form_child}}" tt:for-item="form_child" tt:for-index="j" tt:key="j"><block tt:if="{{form_child.select==true}}"><block><view class="gg-item"><text>{{form_child.name+''}}</text><text class="gg-item-cut">,</text></view></block></block></block></view></view><view class="bottom"><view class="price_box"><text>￥</text><block tt:for="{{currentGoodsData.form_child}}" tt:for-item="form_child" tt:for-index="j" tt:key="j"><block tt:if="{{form_child.select==true}}"><block><text class="price">{{form_child.price}}</text></block></block></block></view><view class="form-btn-box"><block tt:if="{{!currentGoodsData.number}}"><block><view class="add-btn" id="ggAddBtn" data-event-opts="{{[['tap',[['formFirstAddGoods']]]]}}" bindtap="__e"><view class="hxicon-add _i" id="eleAdd"></view><text>加入购物车</text></view></block></block><block tt:else><block><view class="addEle_gg jumpPosition"></view><hx-number-box vue-id="5" value="{{currentGoodsData.number}}" rowData="{{currentGoodsData}}" clickTime="{{animaTime+200}}" data-event-opts="{{[['^change',[['formAddGoodsChange']]],['^addChange',[['touchOnAddGoods',['.addEle_gg','$0'],['currentGoodsData']]]]]}}" bind:change="__e" bind:addChange="__e" bind:__l="__l"></hx-number-box></block></block></view></view></view><view data-event-opts="{{[['tap',[['hiddenForm']]]]}}" class="close" bindtap="__e"><view class="hxicon-close _i"></view></view></view></block></view><share class="vue-ref" vue-id="6" contentHeight="{{580}}" shareList="{{shareList}}" data-ref="share" bind:__l="__l"></share></view>