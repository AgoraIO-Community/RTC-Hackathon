(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/account_security/verification_phone"],{5160:function(t,e,n){"use strict";var i={"hx-navbar":()=>n.e("components/hx-navbar/hx-navbar").then(n.bind(null,"1197"))},o=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return i})},"52b4":function(t,e,n){"use strict";var i=n("6c19"),o=n.n(i);o.a},"6c19":function(t,e,n){},7239:function(t,e,n){"use strict";n.r(e);var i=n("5160"),o=n("a907");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("52b4");var c,u=n("f0c5"),s=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,"117ce1b0",null,!1,i["a"],c);e["default"]=s.exports},"94d4":function(t,e,n){"use strict";(function(t){n("e0ad"),n("921b");i(n("66fd"));var e=i(n("7239"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("f266")["createPage"])},a907:function(t,e,n){"use strict";n.r(e);var i=n("f0d2"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},f0d2:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={watch:{maxlength:{immediate:!0,handler:function(t){this.ranges=6===t?[1,2,3,4,5,6]:[1,2,3,4]}}},data:function(){return{codeIndex:1,mobile:"",codeArr:[],ranges:[1,2,3,4],maxlength:4,isPwd:!1,type:"bottom",timing:0,tNumber:90,postStatus:!1}},onLoad:function(e){var n=/^1[3-9]\d{9}$/,i=this;n.exec(e.mobile)?(this.mobile=e.mobile,i.resend()):t.showToast({icon:"none",title:"手机号格式不正确！",duration:2e3})},methods:{getVal:function(t){var e=t.detail.value,n=e.split("");if(this.codeIndex=n.length+1,this.codeArr=n,this.codeIndex>Number(this.maxlength)){var i=this.codeArr.join("");console.log(i),this.updatePhone(i)}},updatePhone:function(e){var n=this;t.showLoading({mask:!0}),this.$api.user.updatePhone({phone:n.mobile,code:e}).then(function(e){t.hideLoading(),"0"==e.data.code&&t.showToast({title:"完成！",icon:"success",duration:2e3,success:function(){getCurrentPages()>=3?t.navigateBack({delta:3}):t.reLaunch({url:"security"})}})}).catch(function(e){t.hideLoading()})},resend:function(){var e=this;if(e.mobile){t.showLoading({mask:!0}),this.postStatus=!0,this.$api.code.updatePhone({phone:e.mobile}).then(function(n){t.hideLoading(),e.postStatus=!1,"0"!=n.data.code&&t.showToast({title:"获取验证码失败！",duration:2e3})}).catch(function(n){e.postStatus=!1,t.hideLoading(),e.timing=0,console.log("catch",n)}),e.timing=e.tNumber;var n=setInterval(function(){e.timing=e.timing-1,e.timing<=0&&clearTimeout(n)},1e3)}else t.showToast({icon:"none",title:"手机号格式不正确！",duration:2e3})}}};e.default=n}).call(this,n("f266")["default"])}},[["94d4","common/runtime","common/vendor"]]]);