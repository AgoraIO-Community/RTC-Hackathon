(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/account_security/update_password"],{"0584":function(t,e,n){"use strict";n.r(e);var o=n("dac7"),i=n("6138");for(var c in i)"default"!==c&&function(t){n.d(e,t,function(){return i[t]})}(c);n("e903");var s,d=n("f0c5"),a=Object(d["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);e["default"]=a.exports},2697:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{currentPhone:"",appName:this.$conf.appName,setActive1:!0,setActive2:!1,setActive3:!1,oldPwd:"",newPwd:"",reNewPwd:""}},methods:{setOldPwd:function(t){this.oldPwd=t.target.value},setNewPwd:function(t){this.newPwd=t.target.value},setReNewPwd:function(t){this.reNewPwd=t.target.value},formNext1:function(t){this.oldPwd=t,setActive2=!0},formNext2:function(t){this.newPwd=t,setActive3=!0},formNext3:function(t){this.reNewPwd=t,this.formSubmit()},formSubmit:function(){var e=this,n=this;this.oldPwd?n.oldPwd.length<6?t.showToast({icon:"none",position:"bottom",title:"原密码不正确！"}):(t.showLoading({mask:!0}),n.$api.user.passwordValidation({str:n.$strEncode({oldPwd:n.oldPwd})}).then(function(o){o.data.code;if("0"!=o.data.code)return t.showToast({icon:"none",position:"bottom",title:"原密码不正确！"}),t.hideLoading(),void(n.setActive1=!0);if(!e.newPwd||!e.reNewPwd||e.newPwd!=e.reNewPwd)return t.showModal({title:"提示",content:"两次填写的密码不一致",confirmColor:"#3CC51F",showCancel:!1,success:function(t){t.confirm&&(n.newPwd?n.setActive3=!0:n.setActive2=!0)}}),void t.hideLoading();var i=/^[0-9]{1,20}$/;if(i.exec(e.newPwd))t.showToast({icon:"none",position:"bottom",title:"密码不能为纯数字！"});else{if(!(e.newPwd.length<8))return e.newPwd==e.oldPwd?(t.showModal({title:"提示",content:"新密码不能和原密码相同",confirmColor:"#3CC51F",showCancel:!1,success:function(t){t.confirm&&(n.setActive1=!0)}}),void t.hideLoading()):void n.$api.user.updatePassword({str:n.$strEncode({oldPwd:n.oldPwd,newPwd:n.newPwd})}).then(function(e){t.hideLoading();var n=e.data.code;"0"==n?t.showToast({title:"完成",icon:"success",duration:2e3,success:function(e){setTimeout(function(){getCurrentPages().length>1?t.navigateBack():t.redirectTo({url:"security"})},2e3)}}):t.showToast({icon:"none",position:"bottom",title:e.data.msg})}).catch(function(e){t.hideLoading()});t.showToast({icon:"none",position:"bottom",title:"密码长度为8-20位！"})}}).catch(function(e){t.hideLoading()})):t.showModal({title:"提示",content:"请先填写原密码",confirmColor:"#3CC51F",showCancel:!1,success:function(t){t.confirm&&(n.setActive1=!0)}})}}};e.default=n}).call(this,n("f266")["default"])},6138:function(t,e,n){"use strict";n.r(e);var o=n("2697"),i=n.n(o);for(var c in o)"default"!==c&&function(t){n.d(e,t,function(){return o[t]})}(c);e["default"]=i.a},d35b:function(t,e,n){"use strict";(function(t){n("e0ad"),n("921b");o(n("66fd"));var e=o(n("0584"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("f266")["createPage"])},d3ab:function(t,e,n){},dac7:function(t,e,n){"use strict";var o={"hx-navbar":()=>n.e("components/hx-navbar/hx-navbar").then(n.bind(null,"1197"))},i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.setActive1=!0},t.e1=function(e){t.setActive1=!1},t.e2=function(e){t.setActive2=!0},t.e3=function(e){t.setActive2=!1},t.e4=function(e){t.setActive3=!0},t.e5=function(e){t.setActive3=!1})},c=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return c}),n.d(e,"a",function(){return o})},e903:function(t,e,n){"use strict";var o=n("d3ab"),i=n.n(o);i.a}},[["d35b","common/runtime","common/vendor"]]]);